C51 COMPILER V9.56.0.0   74HC595                                                           04/09/2019 04:14:57 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE 74HC595
OBJECT MODULE PLACED IN .\Objects\74hc595.obj
COMPILER INVOKED BY: D:\keil5\C51\BIN\C51.EXE 74hc595.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\74h
                    -c595.lst) OBJECT(.\Objects\74hc595.obj)

line level    source

   1          #include "config.h"
   2          
   3          
   4          
   5          uchar code liexuan[]={0x01,0x02,0x04,0x08,0x10,0x20,0x40,0x80};
   6          //串行数据输入
   7          void dat_in(unsigned char Data)
   8          {
   9   1              unsigned char i;
  10   1              for(i = 0; i < 8; i++)
  11   1              {
  12   2                      SH_CK = 0;                      //CLOCK_MAX=100MHz
  13   2                      SD = Data & 0x80;
  14   2                      Data <<= 1;
  15   2                      SH_CK = 1;
  16   2              }
  17   1      }
  18          
  19          void dat_inf(unsigned char Data)
  20          {
  21   1              unsigned char i;
  22   1      //      Data=Data<<1|0x01;
  23   1              for(i = 0; i < 8; i++)
  24   1              {
  25   2                      SH_CK = 0;                      //CLOCK_MAX=100MHz
  26   2                      SD = Data & 0x01;
  27   2                      Data >>= 1;
  28   2                      SH_CK = 1;
  29   2              }
  30   1      }
  31          
  32          //并行数据输出
  33          void dat_out(void)
  34          {
  35   1              ST_CK = 0;
  36   1              ST_CK = 1;
  37   1      }
  38          
  39          
  40          void show_line(char x,uchar dat1,uchar dat2)
  41          {
  42   1              dat_inf(~dat1);
  43   1              dat_inf(~dat2);
  44   1              dat_in( (x-7)>0 ? liexuan[x-8] : 0);
  45   1              dat_in( (x-7)<=0 ? liexuan[x] : 0);
  46   1              dat_out();
  47   1      }
  48          
  49          void show_xy(char x,char y)
  50          {
  51   1              dat_inf(~(  (y-7)>0 ? liexuan[y-8] : 0  ));
  52   1              dat_inf(~(  (y-7)<=0 ? liexuan[y] : 0  ));
  53   1              dat_in( (x-7)>0 ? liexuan[x-8] : 0);
  54   1              dat_in( (x-7)<=0 ? liexuan[x] : 0);
C51 COMPILER V9.56.0.0   74HC595                                                           04/09/2019 04:14:57 PAGE 2   

  55   1              dat_out();
  56   1      }
  57          uchar xdata chazidian[]={0,0,0,0,0,0,0,0,0,1,0,2,3,4,0,0,0,0,5,6,7,0,0,0,8,0,9,0,10,0,0,0,11,0,0,0,0,0,0,0
             -,0,12,0,0,13,14,0,15,16,17,18,19};
  58          uchar showtime;
  59          void show_yinbiao(uchar a)
  60          {
  61   1              if(a==0)
  62   1              {
  63   2                              show_line(showtime,0x00,0x00);
  64   2      
  65   2              }
  66   1              else
  67   1              {
  68   2                      a--;
  69   2                      show_line(showtime,yinbiao[chazidian[a]-1][showtime],yinbiao[chazidian[a]-1][showtime+16]);
  70   2              }
  71   1              
  72   1              
  73   1      }
  74          
  75          
  76          uchar code yinbiao[][32]={
  77          
  78          
  79          
  80          
  81          
  82          
  83          
  84          
  85          
  86          0x00,0x00,0x00,0x00,0x00,0x80,0x40,0x40,0x40,0x40,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0
             -x0E,0x12,0x12,0x12,0x12,0x0F,0x00,0x00,0x00,0x00,0x00,
  87          
  88          0x00,0x00,0x00,0x40,0x40,0x40,0x40,0x80,0x80,0x40,0x40,0x40,0x40,0x80,0x00,0x00,0x00,0x00,0x1C,0x22,0x22,0
             -x22,0x12,0x0F,0x12,0x22,0x22,0x22,0x22,0x13,0x00,0x00,
  89          0x00,0x00,0x00,0x80,0xC0,0x40,0x40,0x40,0x80,0x00,0x00,0x00,0xC4,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0x32,0
             -x22,0x22,0x22,0x13,0x02,0x00,0x00,0x3F,0x00,0x00,0x00,
  90          0x00,0x00,0x00,0x80,0x40,0x40,0x40,0xC0,0x80,0x00,0x00,0xC4,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1C,0x22,0
             -x22,0x22,0x12,0x3F,0x00,0x00,0x3F,0x00,0x00,0x00,0x00,
  91          
  92          
  93          
  94          
  95          0x00,0x80,0x40,0x40,0x40,0x80,0x00,0x00,0x00,0xC0,0x00,0x00,0x00,0x00,0xC0,0x00,0x18,0x34,0x22,0x22,0x12,0
             -x3F,0x00,0x00,0x00,0x1F,0x20,0x20,0x20,0x10,0x3F,0x00,
  96          0x00,0x40,0x40,0x40,0x40,0x80,0x00,0x00,0x00,0xC0,0x00,0x00,0x00,0x00,0xC0,0x00,0x0C,0x12,0x12,0x12,0x12,0
             -x0F,0x00,0x00,0x00,0x1F,0x20,0x20,0x20,0x10,0x3F,0x00,
  97          0x00,0x00,0x00,0x00,0x00,0xC0,0x80,0x40,0x40,0x40,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0
             -xFF,0x08,0x10,0x10,0x10,0x0F,0x00,0x00,0x00,0x00,0x00,
  98          
  99          
 100          
 101          0x00,0x00,0x00,0x00,0x00,0xFC,0x00,0x00,0x00,0x80,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0
             -x3F,0x04,0x02,0x05,0x18,0x20,0x00,0x00,0x00,0x00,0x00,
 102          
 103          0x00,0x00,0x00,0x00,0x00,0x00,0x40,0xF8,0x4C,0x44,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0
             -x00,0x00,0x3F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 104          
 105          0x00,0x00,0x00,0x00,0x00,0x80,0x40,0x40,0x40,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0
             -x11,0x22,0x22,0x24,0x18,0x00,0x00,0x00,0x00,0x00,0x00,
C51 COMPILER V9.56.0.0   74HC595                                                           04/09/2019 04:14:57 PAGE 3   

 106          
 107          
 108          
 109          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF8,0x04,0x04,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0
             -x40,0x40,0x3F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 110          
 111          
 112          
 113          
 114          
 115          
 116          
 117          
 118          0x00,0x00,0x00,0x00,0x00,0x80,0x00,0x80,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0
             -x7F,0x01,0x00,0x00,0x00,0x7F,0x00,0x00,0x00,0x00,0x00,
 119          
 120          
 121          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0
             -x00,0x00,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 122          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0
             -x00,0x00,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 123          
 124          0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x38,0
             -x60,0x1E,0x01,0x07,0x38,0x60,0x1C,0x01,0x00,0x00,0x00,
 125          
 126          
 127          0x00,0x00,0xC0,0x20,0x10,0x88,0x08,0x08,0x08,0x08,0x88,0x10,0x24,0xC8,0x04,0x02,
 128          0x00,0x00,0x0F,0x18,0x20,0x25,0x68,0x48,0x48,0x68,0x25,0x20,0x18,0x0F,0x00,0x00,
 129          0x00,0x00,0x80,0x40,0x20,0x10,0x10,0x10,0x10,0x10,0x10,0x20,0x40,0xA8,0x10,0x28,
 130          0x00,0x00,0x0F,0x10,0x20,0x53,0x48,0x48,0x48,0x48,0x53,0x20,0x10,0x0F,0x00,0x00,
 131          
 132          0x00,0x00,0x00,0x00,0xF8,0x08,0x0C,0x0C,0x0C,0x0C,0x08,0xF8,0x00,0x00,0x00,0x00,
 133          0x00,0x00,0x00,0x00,0x3F,0x20,0x28,0x28,0x28,0x28,0x20,0x3F,0x00,0x00,0x00,0x00,
 134          
 135          0xFF,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0xFF,
 136          0xFF,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0xFF,
 137          };
 138          
 139          
 140          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    373    ----
   CONSTANT SIZE    =    616    ----
   XDATA SIZE       =     52    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      1    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
